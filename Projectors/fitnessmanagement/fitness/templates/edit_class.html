{% extends 'layout.html' %}

{% load static %}

{% block title %}
  {{ class.name }} - Edit Class
{% endblock %}

{% block content %}
  <a class="back font3" href="{% url 'class-detail' user.pk %}">Back</a>
  <form method="post" action="">
    {% csrf_token %}
    <div class="class-detail">
      <h1 class="font1" style="text-align: center; margin-bottom: 30px;">Edit Class</h1>
      <p>Class Name: <input class="input-detail" type="text" name="class_name" value="{{ class.name }}"> </p>
      <p>Category:
        {% for category in categories %}
          <input class="input-detail"  type="checkbox" name="category" value="{{ category }}" {% if category in class.category.all %}checked{% endif %}>{{ category }}
        {% endfor %}
      </p>
      <p>Trainer:
        <select class="select-cat font3" style="font-size: 1.5rem;" name="trainer">
          <option value="">--- Select Trainer ---</option>
          {% for trainer in trainers %}
            <option value="{{ trainer.id }}" {% if class.trainer == trainer %}selected{% endif %}>{{ trainer.name }}</option>
          {% endfor %}
        </select>
      </p>
      <p>Description:</p>
      <textarea class="input-detail" style="width: 100%" name="description" cols="30" rows="5">{{ class.description }}</textarea><br><br>
      <p>Start time: <input class="input-detail"  type="date" name="start_time" value="{{ class.start_time|date:'Y-m-dTH:i' }}"></p>
      <p>End time: <input class="input-detail"  type="date" name="end_time" value="{{ class.end_time|date:'Y-m-dTH:i' }}"></p>
      <p>Remaining capacity: <input class="input-detail" type="number" name="remaining_capacity" value="{{ class.remaining_capacity }}"></p>
      <button class="signup-btn font3">Save</button>
    </div>
  </form>
{% endblock %}